{"componentChunkName":"component---src-templates-issues-tsx","path":"/issues/3","result":{"data":{"site":{"siteMetadata":{"repo":"https://github.com/lencx/dev"}},"issuesJson":{"id":"98aa8172-cb7d-5638-9d04-154508497f85","title":"Where â€˜thisâ€™ executesï¼Ÿ","number":3,"bodyHTML":"<p dir=\"auto\">What will each outputï¼Ÿ</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"let name = 'global';\nconst obj = {\n    name:'obj',\n    test:function(){\n        let name = 'scope';\n        console.log(this.name);\n    }\n}\nconst test = obj.test;\ntest(); \nobj.test(); \"><pre><span class=\"pl-k\">let</span> <span class=\"pl-s1\">name</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">'global'</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">obj</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-c1\">name</span>:<span class=\"pl-s\">'obj'</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-en\">test</span>:<span class=\"pl-k\">function</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n        <span class=\"pl-k\">let</span> <span class=\"pl-s1\">name</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">'scope'</span><span class=\"pl-kos\">;</span>\n        <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-smi\">this</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">name</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">test</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">obj</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">test</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-s1\">test</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> \n<span class=\"pl-s1\">obj</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">test</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> </pre></div>","updatedAt":"2022-05-10T05:26:06Z","upvoteCount":2,"author":{"login":"dengshicheng1996","avatarUrl":"https://avatars.githubusercontent.com/u/41374066?v=4","url":"https://github.com/dengshicheng1996"},"category":{"isAnswerable":false,"name":"Web","emoji":":globe_with_meridians:"},"labels":{"edges":[{"node":{"name":"JavaScript","color":"f1e05a"}},{"node":{"name":"Interview","color":"662E4E"}}]},"comments":{"edges":[{"node":{"id":"DC_kwDOG2u5tM4AIj5T","bodyHTML":"<h2 dir=\"auto\">åˆ†æ</h2>\n<ol dir=\"auto\">\n<li><code class=\"notranslate\">ç¡®å®š this çš„æŒ‡å‘</code> - this çš„å€¼æ˜¯åœ¨æ‰§è¡Œçš„æ—¶å€™æ‰èƒ½ç¡®è®¤ï¼Œå®šä¹‰çš„æ—¶å€™ä¸èƒ½ç¡®è®¤ï¼ å› ä¸º this æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒçš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ‰§è¡Œä¸Šä¸‹æ–‡éœ€è¦åœ¨ä»£ç æ‰§è¡Œä¹‹å‰ç¡®å®šï¼Œè€Œä¸æ˜¯å®šä¹‰çš„æ—¶å€™ã€‚</li>\n<li><code class=\"notranslate\">name æ˜¯ä»€ä¹ˆ</code> - ä½¿ç”¨ <code class=\"notranslate\">let</code> æˆ– <code class=\"notranslate\">const</code> å£°æ˜çš„ nameï¼Œå’Œä½¿ç”¨ <code class=\"notranslate\">var</code> æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">let æˆ– const</code> - å®ƒä»¬åœ¨å…¨å±€ï¼ˆåœ¨æœ€é¡¶éƒ¨çš„èŒƒå›´ï¼‰å£°æ˜æ—¶ï¼Œä¸ä¼šåœ¨ window ä¸‹åˆ›å»ºå±æ€§ã€‚å…·ä½“åŸå› å‚è€ƒ<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/let#%E6%8F%8F%E8%BF%B0\" rel=\"nofollow\">è¿™é‡Œ</a>ã€‚</li>\n<li><code class=\"notranslate\">var</code> - ç”¨ var å£°æ˜çš„å˜é‡çš„ä½œç”¨åŸŸæ˜¯å®ƒå½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå®ƒå¯ä»¥æ˜¯åµŒå¥—çš„å‡½æ•°ï¼Œæˆ–è€…å¯¹äºå£°æ˜åœ¨ä»»ä½•å‡½æ•°å¤–çš„å˜é‡æ¥è¯´æ˜¯å…¨å±€ï¼ˆæˆä¸º window çš„å±æ€§ï¼‰ã€‚</li>\n<li><code class=\"notranslate\">window ä¸‹çš„ name æ˜¯ä»€ä¹ˆ?</code> - çª—å£çš„åç§°ä¸»è¦ç”¨äºè®¾ç½®è¶…é“¾æ¥å’Œè¡¨å•çš„ç›®æ ‡ã€‚é»˜è®¤ä¸ºç©ºå­—ç¬¦ä¸²ã€‚</li>\n</ul>\n</li>\n</ol>\n<h2 dir=\"auto\">è§£é¢˜</h2>\n<h3 dir=\"auto\">ç¬¬ä¸€æ¬¡æ‰“å°</h3>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// ğŸŸ¢ å£°æ˜ test å˜é‡ï¼Œæ­¤æ—¶å‡½æ•°æœªå‘ç”Ÿè°ƒç”¨ã€‚\nconst test = obj.test;\n// ğŸŸ¢ å‡½æ•°æ‰§è¡Œæ‰§è¡Œä¸Šä¸‹æ–‡ä¸º window, æ­¤æ—¶ this æŒ‡å‘ windowï¼Œå³ `this.name` å°±æ˜¯ `window.name`ã€‚\n// ğŸŸ¢ é—®é¢˜å˜ä¸º window ä¸‹çš„ name æ˜¯ä»€ä¹ˆï¼Ÿ\n// ğŸŸ¢ let å£°æ˜çš„å˜é‡ä¸ä¼šå°† name ç»‘å®šåˆ° window ä¸‹ï¼Œæ‰€ä»¥ä¸å¯èƒ½è¾“å‡º `global`ã€‚\n// ğŸŸ¢ è€Œ `window.name` æ°å·§æ˜¯ window è‡ªæœ‰å±æ€§ï¼Œé»˜è®¤å€¼ä¸ºç©ºå­—ç¬¦ä¸²ã€‚(è¿™ä¸ªæ˜¯æŒ–å‘)\n// ğŸŸ¢ å¦‚æœæ¢æˆå…¶ä»–å±æ€§ï¼Œå¦‚ `this.aaa` ä¹‹ç±»çš„ï¼Œåˆ™è¾“å‡º `undefined`ã€‚\n// âœ… æ‰€ä»¥è¾“å‡ºç©ºå­—ç¬¦ä¸²ã€‚\ntest();\"><pre><span class=\"pl-c\">// ğŸŸ¢ å£°æ˜ test å˜é‡ï¼Œæ­¤æ—¶å‡½æ•°æœªå‘ç”Ÿè°ƒç”¨ã€‚</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">test</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">obj</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">test</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-c\">// ğŸŸ¢ å‡½æ•°æ‰§è¡Œæ‰§è¡Œä¸Šä¸‹æ–‡ä¸º window, æ­¤æ—¶ this æŒ‡å‘ windowï¼Œå³ `this.name` å°±æ˜¯ `window.name`ã€‚</span>\n<span class=\"pl-c\">// ğŸŸ¢ é—®é¢˜å˜ä¸º window ä¸‹çš„ name æ˜¯ä»€ä¹ˆï¼Ÿ</span>\n<span class=\"pl-c\">// ğŸŸ¢ let å£°æ˜çš„å˜é‡ä¸ä¼šå°† name ç»‘å®šåˆ° window ä¸‹ï¼Œæ‰€ä»¥ä¸å¯èƒ½è¾“å‡º `global`ã€‚</span>\n<span class=\"pl-c\">// ğŸŸ¢ è€Œ `window.name` æ°å·§æ˜¯ window è‡ªæœ‰å±æ€§ï¼Œé»˜è®¤å€¼ä¸ºç©ºå­—ç¬¦ä¸²ã€‚(è¿™ä¸ªæ˜¯æŒ–å‘)</span>\n<span class=\"pl-c\">// ğŸŸ¢ å¦‚æœæ¢æˆå…¶ä»–å±æ€§ï¼Œå¦‚ `this.aaa` ä¹‹ç±»çš„ï¼Œåˆ™è¾“å‡º `undefined`ã€‚</span>\n<span class=\"pl-c\">// âœ… æ‰€ä»¥è¾“å‡ºç©ºå­—ç¬¦ä¸²ã€‚</span>\n<span class=\"pl-s1\">test</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<h3 dir=\"auto\">ç¬¬äºŒæ¬¡æ‰“å°</h3>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// ğŸŸ¢ å¯¹äº obj.test() æ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦è®°ä½ï¼Œè°è°ƒç”¨äº†å‡½æ•°ï¼Œè°å°±æ˜¯ thisã€‚\n// ğŸŸ¢ æ‰€ä»¥åœ¨è¿™ä¸ªåœºæ™¯ä¸‹ test å‡½æ•°ä¸­çš„ this å°±æ˜¯ obj å¯¹è±¡ã€‚\n// âœ… æ‰€ä»¥è¾“å‡º â€œobjâ€ã€‚\nobj.test(); \"><pre><span class=\"pl-c\">// ğŸŸ¢ å¯¹äº obj.test() æ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦è®°ä½ï¼Œè°è°ƒç”¨äº†å‡½æ•°ï¼Œè°å°±æ˜¯ thisã€‚</span>\n<span class=\"pl-c\">// ğŸŸ¢ æ‰€ä»¥åœ¨è¿™ä¸ªåœºæ™¯ä¸‹ test å‡½æ•°ä¸­çš„ this å°±æ˜¯ obj å¯¹è±¡ã€‚</span>\n<span class=\"pl-c\">// âœ… æ‰€ä»¥è¾“å‡º â€œobjâ€ã€‚</span>\n<span class=\"pl-s1\">obj</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">test</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> </pre></div>\n<hr>\n<h2 dir=\"auto\">å‚è€ƒèµ„æ–™</h2>\n<ul dir=\"auto\">\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\" rel=\"nofollow\">this</a></li>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/var\" rel=\"nofollow\">var</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/name\" rel=\"nofollow\">window.name</a></li>\n</ul>","author":{"login":"lencx","avatarUrl":"https://avatars.githubusercontent.com/u/16164244?u=77d1d01930d8e36105a49a6c474abf70eeee74b1&v=4","url":"https://github.com/lencx"},"replies":{"edges":[]}}}]}}},"pageContext":{"number":3,"previous":{"title":"TCP ä¸ UDP ä¹‹é—´çš„åŒºåˆ«","number":6},"next":{"title":"js-macro micro tasks","number":2}}},"staticQueryHashes":["3993188973"]}